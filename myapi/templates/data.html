<!DOCTYPE html>
{% extends "home.html" %}

{% block content %}

<table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
  <thead>
    <tr>
      <th>File name</th>
      <th>File category</th>
      <th>Original name</th>
      <th>Path</th>
    </tr>
  </thead>
  <tbody>
    {% for file in files_data %}
      <tr>
        <th>{{file.name}}</th>
        <th>{{file.category}}</th>
        <th>{{file.file.name}}</th>
        <th>{{file.data.name}}</th>
      </tr>
      {% endfor %}

  </tbody>







<div class="container-fluid">
  <form method="post" action="." id="form_id" enctype="multipart/form-data">{% csrf_token %}

    <div class="form-group row" align="right">
      <label class="col-form-label col-sm-4">Title</label>
      <div class="col-sm-5">
          <input type="text" class="form-control" name='title' required>
      </div>
    </div>

    <div class="form-group row" align="right">
      <label class="col-form-label col-sm-4">Category</label>
      <div class="col-sm-5">
          <input type="text" class="form-control" name='title'>
      </div>
    </div>

    <div class="form-group row" align="right">
      <label class="col-form-label col-sm-4">Contact</label>
      <div class="col-sm-5">
          <input type="text" class="form-control" name='title'>
      </div>
    </div>

    <div class="form-group row" align="right">
      <label class="col-form-label col-sm-4">Files</label>
      <div class="col-sm-5 ml-3" style="text-align: left;">
        <input type="file" class="custom-file-input" id="id_file" name="file" accept=".pdf" required>
        <label class="custom-file-label file" for="id_file" data-browse="Browse">{{file_name}}</label>
      </div>
    </div>

    <!-- handle display file name -->
    <script>


        $('#id_file').on('change',function(){
            var file_name = $(this).val().pop();
            $('.file').html(file_name);
        })
    </script>

    <div class="form-group row">
      <div class="offset-sm-5 py-2 submit">
          <button type="submit" class="btn btn-primary" value="add_file">Add File</button>
      </div>
    </div>

    <div class="form-group row">
      <div class="offset-sm-4 pt-5">
        {% if messages %}
          {% for message in messages %}
              <div class="alert alert-{{ message.tags }} alert-dismissible fade show">
                    {{ message }}
              </div>
          {% endfor %}
        {% endif %}
      </div>
    </div>
  </form>
</div>

{% endblock content %}